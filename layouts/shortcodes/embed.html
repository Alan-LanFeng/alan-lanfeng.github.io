{{- $url := or (.Get "url") (.Get "src") (.Get 0) -}}
{{- $title := .Get "title" | default "" -}}
{{- $ratio := .Get "ratio" | default "56.25%" -}} {{/* 16:9 = 56.25% */}}
{{- if $url -}}
<div class="embed-wrapper" style="position:relative;padding-bottom:{{$ratio}};height:0;overflow:hidden;max-width:100%;">
  <iframe
    src="{{ $url }}"
    title="{{ $title }}"
    loading="lazy"
    allowfullscreen
    style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;"
  ></iframe>
</div>
{{- else -}}
<p style="color:red;">[embed] 缺少 url/src 参数</p>
{{- end -}}
